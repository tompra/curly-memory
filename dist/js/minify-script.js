let pokemonRepository=function(){let e=[],t=document.createElement("p");function a(){return e}function i(t){return"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.error("Something went wrong! Add a pokemon object")}function n(){document.body.appendChild(t)}function l(){document.body.removeChild(t)}return t.innerHTML="Loading...",{getAll:a,add:i,addListItem:function e(t){let a=document.querySelector(".list-group"),i=document.createElement("li"),s=document.createElement("button"),r=document.createElement("img");s.innerText=`${t.name}`,r.setAttribute("src",`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${t.id}.png`),r.setAttribute("alt",`A small image of ${t.name}`),r.classList.add("img-button"),a.appendChild(i),i.appendChild(s),s.appendChild(r),i.classList.add("list-group-item"),s.classList.add("btn"),s.classList.add("button-pokemon"),s.setAttribute("data-bs-toggle","modal"),s.setAttribute("data-bs-target","#exampleModal"),i.classList.add("col-lg-3"),i.classList.add("col-sm-6"),i.classList.add("col-md-4"),i.classList.add("col-6"),function e(t,a){t.addEventListener("click",()=>{!function e(t){var a;(a=t,n(),fetch(a.detailsUrl).then(e=>e.json()).then(e=>{l(),a.img=e.sprites.other["official-artwork"].front_default,a.height=e.height,a.types=e.types,a.abilities=e.abilities}).catch(e=>{l(),console.error(e)})).then(()=>{(function e(t){let a=document.querySelector(".modal-header"),i=document.querySelector(".modal-body");a.innerHTML="",i.innerHTML="";let n=document.createElement("h1");n.classList.add("modal-title"),n.classList.add("fs-3"),n.innerText=t.name;let l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("data-bs-dismiss","modal"),l.setAttribute("data-bs-toggle","modal"),l.setAttribute("data-bs-target","#exampleModal"),l.setAttribute("aria-label","close"),l.classList.add("btn-close");let s=document.createElement("p"),r=document.createElement("p"),o=t.types.map(e=>e.type.name.charAt(0).toUpperCase()+e.type.name.slice(1)).join(", ");r.innerText="Type",r.classList.add("modal__pokemon--title"),s.innerText=`${o}`;let d=document.createElement("p"),p=document.createElement("p");p.innerText="Height",p.classList.add("modal__pokemon--title"),d.innerText=`${t.height}m`;let c=document.createElement("img");c.setAttribute("src",t.img),c.setAttribute("alt",`Image of ${t.name}`),c.classList.add("img-fluid"),c.classList.add("rounded"),c.classList.add("img-card");let m=document.createElement("p"),u=document.createElement("p"),h=t.abilities.map(e=>e.ability.name.charAt(0).toUpperCase()+e.ability.name.slice(1)).join(", ");m.innerText=`${h}`,u.innerText="Abilities",u.classList.add("modal__pokemon--title"),a.appendChild(n),a.appendChild(l),i.appendChild(c),i.appendChild(p),i.appendChild(d),i.appendChild(r),i.appendChild(s),i.appendChild(u),i.appendChild(m)})(t)}).catch(e=>{console.error(e)})}(a)})}(s,t)},loadList:function e(){return n(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{l(),e.results.forEach((e,t)=>{i({name:e.name,detailsUrl:e.url,id:t+1})})}).catch(e=>{l(),console.error(e)})}}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});const searchBtn=document.getElementById("searchBtn"),searchInput=document.getElementById("searchInput"),clearBtn=document.getElementById("clearBtn");searchBtn.addEventListener("click",e=>{e.preventDefault();document.querySelector(".list-group").innerHTML="";let t=searchInput.value.toLowerCase();pokemonRepository.getAll().filter(e=>{if(e.name.startsWith(t))return pokemonRepository.addListItem(e)})}),clearBtn.addEventListener("click",e=>{e.preventDefault();document.querySelector(".list-group").innerHTML="",searchInput.value="",pokemonRepository.getAll().forEach(e=>pokemonRepository.addListItem(e))});